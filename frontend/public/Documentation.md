# ğŸŒ CrossRemit Pro - Developer Documentation

<div align="center">

**Blockchain-Powered Cross-Border Remittance Platform**

[![Ethereum](https://img.shields.io/badge/Ethereum-3C3C3D?style=for-the-badge&logo=Ethereum&logoColor=white)](https://ethereum.org/)
[![Solidity](https://img.shields.io/badge/Solidity-%23363636.svg?style=for-the-badge&logo=solidity&logoColor=white)](https://soliditylang.org/)
[![React](https://img.shields.io/badge/react-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB)](https://reactjs.org/)
[![Node.js](https://img.shields.io/badge/node.js-6DA55F?style=for-the-badge&logo=node.js&logoColor=white)](https://nodejs.org/)

*Instant settlement â€¢ Bank-grade KYC â€¢ Multi-currency support*

</div>

---

## ğŸ“‹ Table of Contents

- [ğŸš€ Quick Start](#-quick-start)
- [âš™ï¸ Installation & Setup](#ï¸-installation--setup)
- [ğŸ”Œ API Reference](#-api-reference)
- [ğŸ› ï¸ Configuration](#ï¸-configuration)
- [ğŸ§ª Testing](#-testing)
- [ğŸ› Troubleshooting](#-troubleshooting)
- [ğŸ“š Architecture](#-architecture)

---

## ğŸš€ Quick Start

**One-Click Launch** (Windows)

Simply double-click `start_all.bat` and everything launches automatically:
- âœ… Hardhat local blockchain
- âœ… Smart contract deployment
- âœ… Backend API server
- âœ… Frontend development server
- âœ… Browser opens automatically

> **Note:** Ensure MetaMask is installed before running!

---

## âš™ï¸ Installation & Setup

### Prerequisites

| Requirement | Version | Download |
|------------|---------|----------|
| **Node.js** | v18+ | [nodejs.org](https://nodejs.org/) |
| **MetaMask** | Latest | [metamask.io](https://metamask.io/) |
| **Git** | Latest | [git-scm.com](https://git-scm.com/) |

### Manual Setup

<details>
<summary><b>Step 1: Clone Repository</b></summary>

```bash
git clone <repo-url>
cd Cross-Border-Remittance-main
```
</details>

<details>
<summary><b>Step 2: Install Dependencies</b></summary>

Install dependencies for all three layers:

```bash
# Root (Hardhat & Smart Contracts)
npm install

# Backend API Server
cd backend
npm install

# Frontend React App
cd ../frontend
npm install
```
</details>

<details>
<summary><b>Step 3: Start Local Blockchain</b></summary>

**Terminal 1:**
```bash
npx hardhat node
```

> ğŸ’¡ This provides 20 test accounts with 10,000 ETH each
</details>

<details>
<summary><b>Step 4: Deploy Smart Contracts</b></summary>

**Terminal 2:**
```bash
npx hardhat run Scripts/deploy-local.js --network localhost
```

> âš ï¸ This auto-updates `frontend/src/config.json` with contract addresses
</details>

<details>
<summary><b>Step 5: Start Backend Server</b></summary>

**Terminal 3:**
```bash
cd backend
node server.js
```

> ğŸŒ Server runs on `http://localhost:3001`
</details>

<details>
<summary><b>Step 6: Start Frontend</b></summary>

**Terminal 4:**
```bash
cd frontend
npm run dev
```

> ğŸ¨ Access the app at `http://localhost:5173`
</details>

---

## ğŸ”Œ API Reference

**Base URL:** `http://localhost:3001`

### ğŸ‘¤ KYC Endpoints

#### Submit KYC Application
```http
POST /api/kyc/submit
Content-Type: application/json

{
  "address": "0x...",
  "name": "John Doe",
  "document": "passport123"
}
```

#### Check KYC Status
```http
GET /api/kyc/status/:address
```

**Response:**
```json
{
  "status": "verified" | "pending" | "rejected" | "not_found"
}
```

---

### ğŸ” Admin Endpoints

#### List Pending KYC Applications
```http
GET /api/admin/pending
```

#### Approve/Reject KYC
```http
POST /api/admin/update-status
Content-Type: application/json

{
  "address": "0x...",
  "status": "verified" | "rejected"
}
```

---

### ğŸ’± Exchange Rate Endpoints

#### Get Current FX Rates
```http
GET /api/rates?target=EUR
```

**Response:**
```json
{
  "USD": 1.0,
  "EUR": 0.92,
  "GBP": 0.79,
  "INR": 83.12,
  "NGN": 1547.50
}
```

---

### ğŸ“Š Transaction Endpoints

#### Record Transaction
```http
POST /api/transactions/record
Content-Type: application/json

{
  "sender": "0x...",
  "recipient": "0x...",
  "amount": "100",
  "currency": "USD"
}
```

#### Get User Transaction History
```http
GET /api/transactions/:address
```

---

### ğŸ¤– AI & Utility Endpoints

#### Fraud Risk Check
```http
POST /api/ai/fraud-check
Content-Type: application/json

{
  "amount": "5000",
  "recipient": "0x..."
}
```

**Response:**
```json
{
  "riskScore": 0.15,
  "riskLevel": "low" | "medium" | "high"
}
```

#### Request Test ETH (Faucet)
```http
POST /api/faucet/eth
Content-Type: application/json

{
  "address": "0x..."
}
```

---

## ğŸ› ï¸ Configuration

### Environment Variables

Create a `.env` file in the root directory:

```env
# Alchemy API (for testnet deployment)
ALCHEMY_API_URL=https://polygon-amoy.g.alchemy.com/v2/YOUR_KEY

# Deployment Private Key
PRIVATE_KEY=0x...

# Admin Wallet Address
ADMIN_ADDRESS=0x...
```

> âš ï¸ **Never commit `.env` to version control!**

---

### Frontend Configuration

**File:** `frontend/src/config.json`

Auto-generated by deployment script:

```json
{
  "remittanceAddress": "0x...",
  "mockTokenAddress": "0x...",
  "remittanceABI": [...],
  "mockTokenABI": [...]
}
```

> ğŸ”„ Regenerated on each deployment

---

## ğŸ§ª Testing

### Run Smart Contract Tests

```bash
npx hardhat test
```

### Test Specific Contract

```bash
npx hardhat test test/Remittance.js
```

### Check Test Coverage

```bash
npx hardhat coverage
```

---

## ğŸ› Troubleshooting

### âŒ "User not KYC verified" Error

**Cause:** Transaction attempted before admin approval

**Solution:**
1. Navigate to Admin Dashboard
2. Find your wallet address
3. Click **Approve**
4. Watch backend terminal for `[Sync] Success`

---

### âšª White Screen on Frontend

**Cause:** Missing `config.json` or connection error

**Solution:**
1. Ensure Hardhat node is running
2. Redeploy contracts: `npx hardhat run Scripts/deploy-local.js --network localhost`
3. Verify `frontend/src/config.json` exists
4. Refresh browser

---

### ğŸ”¢ MetaMask "Nonce too high" Error

**Cause:** Hardhat node restarted but MetaMask has cached state

**Solution:**
1. Open MetaMask
2. Settings â†’ Advanced
3. **Clear Activity Tab Data**
4. Refresh page

---

### ğŸ”Œ "Cannot connect to backend" Error

**Cause:** Backend server not running or wrong port

**Solution:**
1. Verify backend is running on port 3001
2. Check terminal for errors
3. Restart backend: `cd backend && node server.js`

---

## ğŸ“š Architecture

### System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚  React + Vite + TailwindCSS
â”‚  (Port 5173)    â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend API   â”‚  â”‚  Smart Contractsâ”‚
â”‚  (Port 3001)    â”‚  â”‚   (Hardhat)     â”‚
â”‚  Express + DB   â”‚  â”‚  Remittance.sol â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tech Stack

**Frontend:**
- React 18
- Vite
- TailwindCSS
- Ethers.js v6
- Framer Motion

**Backend:**
- Node.js + Express
- SQLite3
- WebSocket (for real-time updates)

**Blockchain:**
- Hardhat
- Solidity ^0.8.0
- Ethers.js
- OpenZeppelin Contracts

---

## ğŸ¯ Key Features

| Feature | Description |
|---------|-------------|
| ğŸ” **KYC Verification** | Bank-grade identity verification |
| âš¡ **Instant Settlement** | Blockchain-powered instant transfers |
| ğŸ’± **Multi-Currency** | Support for USD, EUR, GBP, INR, NGN |
| ğŸ¤– **AI Fraud Detection** | Real-time risk scoring |
| ğŸ“Š **Transaction History** | Complete audit trail |
| ğŸ¨ **Modern UI** | Responsive, dark-mode design |

---

## ğŸ“ Support

For issues or questions:
- ğŸ“§ Email: support@crossremit.pro
- ğŸ’¬ Discord: [Join our community](#)
- ğŸ“– Wiki: [GitHub Wiki](#)

---

<div align="center">

**Built with â¤ï¸ using Blockchain Technology**

[â¬† Back to Top](#-crossremit-pro---developer-documentation)

</div>
